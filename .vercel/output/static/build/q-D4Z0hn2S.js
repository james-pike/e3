import{u as c,a as S,i as P,o as O,C as f,q as l,m,k as n,l as u,S as x,_hW as a}from"./q-DY-apSyG.js";import{_ as r}from"./q-CSnWScGr.js";import{u as h,H as L,a as w}from"./q-euVZZrwa.js";import{S as E}from"./q-CyrPBDZd.js";import{u as R}from"./q-CBy2b3bG.js";const I=async({track:t})=>{const[e,i,s]=c();t(()=>e.isListboxOpenSig.value),i.value||(e.isListboxOpenSig.value?s.showPopover():s.hidePopover())},j=Object.freeze(Object.defineProperty({__proto__:null,_hW:a,s_C0wkbE2I1wY:I},Symbol.toStringTag,{value:"Module"})),G=t=>{const e=S(E),i=h(e.localId),s={context:e,givenContextRef:e.popoverRef},g=R(t.ref,s),v=P(t,["floating","flip","hover","gutter"]),_=O(!0);f(l(()=>r(()=>Promise.resolve().then(()=>j),void 0),"s_C0wkbE2I1wY",[e,_,i]));const p=`${e.localId}-panel`,b=`${e.localId}-trigger`;return f(l(()=>r(()=>Promise.resolve().then(()=>Y),void 0),"s_0HYQ4ZKK0YM",[e,l(()=>r(()=>Promise.resolve().then(()=>q),void 0),"s_9pePPKbKVfc",[e,l(()=>r(()=>Promise.resolve().then(()=>k),void 0),"s_xuvmGl0vw3E")])])),f(l(()=>r(()=>Promise.resolve().then(()=>C),void 0),"s_hlLZ8J000cY",[_])),m(w,{get floating(){return t.floating},get flip(){return t.flip},get hover(){return t.hover},get gutter(){return t.gutter},get"bind:anchor"(){return t["bind:anchor"]??e.triggerRef},"bind:panel":g,manual:!0,get id(){return e.localId},children:m(L,{id:p,get"data-open"(){return e.isListboxOpenSig.value?"":void 0},get"data-closed"(){return e.isListboxOpenSig.value?void 0:""},get"data-invalid"(){var o;return(o=e.isInvalidSig)!=null&&o.value?"":void 0},role:"listbox",get"aria-expanded"(){return e.isListboxOpenSig.value?"true":void 0},get"aria-multiselectable"(){return e.multiple?"true":void 0},"aria-labelledby":b,onMouseEnter$:[l(()=>r(()=>Promise.resolve().then(()=>H),void 0),"s_v4aoUOHwM5k",[e]),t.onMouseEnter$],...v,children:m(x,null,3,"YS_0"),[u]:{"data-open":n(o=>o.isListboxOpenSig.value?"":void 0,[e]),"data-closed":n(o=>o.isListboxOpenSig.value?void 0:"",[e]),"data-invalid":n(o=>{var d;return(d=o.isInvalidSig)!=null&&d.value?"":void 0},[e]),role:u,"aria-expanded":n(o=>o.isListboxOpenSig.value?"true":void 0,[e]),"aria-multiselectable":n(o=>o.multiple?"true":void 0,[e])}},0,"YS_1"),[u]:{floating:n(o=>o.floating,[t]),flip:n(o=>o.flip,[t]),hover:n(o=>o.hover,[t]),gutter:n(o=>o.gutter,[t]),"bind:anchor":n((o,d)=>d["bind:anchor"]??o.triggerRef,[e,t]),"bind:panel":u,manual:u,id:n(o=>o.localId,[e])}},1,"YS_2")},M=(t,e,i)=>e<t.left||e>t.right||i<t.top||i>t.bottom,k=Object.freeze(Object.defineProperty({__proto__:null,_hW:a,s_xuvmGl0vw3E:M},Symbol.toStringTag,{value:"Module"})),T=({track:t,cleanup:e})=>{const[i,s]=c();t(()=>i.isListboxOpenSig.value),i.isListboxOpenSig.value&&window.addEventListener("pointerdown",s),e(()=>{window.removeEventListener("pointerdown",s)})},Y=Object.freeze(Object.defineProperty({__proto__:null,_hW:a,s_0HYQ4ZKK0YM:T},Symbol.toStringTag,{value:"Module"})),y=()=>{const[t]=c();t.isKeyboardFocusSig.value=!1,t.isMouseOverPopupSig.value=!0},H=Object.freeze(Object.defineProperty({__proto__:null,_hW:a,s_v4aoUOHwM5k:y},Symbol.toStringTag,{value:"Module"})),K=()=>{const[t]=c();t.value=!1},C=Object.freeze(Object.defineProperty({__proto__:null,_hW:a,s_hlLZ8J000cY:K},Symbol.toStringTag,{value:"Module"})),D=async t=>{const[e,i]=c();if(!e.isListboxOpenSig.value||!e.popoverRef.value||!e.triggerRef.value)return;const s=e.popoverRef.value.getBoundingClientRect(),g=e.triggerRef.value.getBoundingClientRect(),{clientX:v,clientY:_}=t,p=await i(s,v,_),b=await i(g,v,_);p&&b&&(e.isListboxOpenSig.value=!1)},q=Object.freeze(Object.defineProperty({__proto__:null,_hW:a,s_9pePPKbKVfc:D},Symbol.toStringTag,{value:"Module"}));export{a as _hW,T as s_0HYQ4ZKK0YM,D as s_9pePPKbKVfc,I as s_C0wkbE2I1wY,G as s_Sqje0QpI4is,K as s_hlLZ8J000cY,y as s_v4aoUOHwM5k,M as s_xuvmGl0vw3E};
