import{f as c,E as P,a as S,d as O,q as b,R as r,c as f,C as n,b as u,X as h,_hW as a}from"./q-Cf7NMI1Y.js";import{_ as l}from"./q-CCVerxHA.js";import{u as x,H as w,a as E}from"./q-PFBUc6I6.js";import{S as L}from"./q-D3yEi0Ex.js";import{u as R}from"./q-BrOW4Qnq.js";const j=async({track:t})=>{const[e,i,s]=c();t(()=>e.isListboxOpenSig.value),i.value||(e.isListboxOpenSig.value?s.showPopover():s.hidePopover())},I=Object.freeze(Object.defineProperty({__proto__:null,_hW:a,s_C0wkbE2I1wY:j},Symbol.toStringTag,{value:"Module"})),M=t=>{const e=P(L),i=x(e.localId),s={context:e,givenContextRef:e.popoverRef},d=R(t.ref,s),v=S(t,["floating","flip","hover","gutter"]),_=O(!0);b(r(()=>l(()=>Promise.resolve().then(()=>I),void 0),"s_C0wkbE2I1wY",[e,_,i]));const g=`${e.localId}-panel`,p=`${e.localId}-trigger`;return b(r(()=>l(()=>Promise.resolve().then(()=>T),void 0),"s_0HYQ4ZKK0YM",[e,r(()=>l(()=>Promise.resolve().then(()=>V),void 0),"s_9pePPKbKVfc",[e,r(()=>l(()=>Promise.resolve().then(()=>k),void 0),"s_xuvmGl0vw3E")])])),b(r(()=>l(()=>Promise.resolve().then(()=>C),void 0),"s_hlLZ8J000cY",[_])),f(E,{get floating(){return t.floating},get flip(){return t.flip},get hover(){return t.hover},get gutter(){return t.gutter},get"bind:anchor"(){return t["bind:anchor"]??e.triggerRef},"bind:panel":d,manual:!0,get id(){return e.localId},children:f(w,{id:g,get"data-open"(){return e.isListboxOpenSig.value?"":void 0},get"data-closed"(){return e.isListboxOpenSig.value?void 0:""},get"data-invalid"(){return e.isInvalidSig?.value?"":void 0},role:"listbox",get"aria-expanded"(){return e.isListboxOpenSig.value?"true":void 0},get"aria-multiselectable"(){return e.multiple?"true":void 0},"aria-labelledby":p,onMouseEnter$:[r(()=>l(()=>Promise.resolve().then(()=>K),void 0),"s_v4aoUOHwM5k",[e]),t.onMouseEnter$],...v,children:f(h,null,3,"YS_0"),[u]:{"data-open":n(o=>o.isListboxOpenSig.value?"":void 0,[e]),"data-closed":n(o=>o.isListboxOpenSig.value?void 0:"",[e]),"data-invalid":n(o=>o.isInvalidSig?.value?"":void 0,[e]),role:u,"aria-expanded":n(o=>o.isListboxOpenSig.value?"true":void 0,[e]),"aria-multiselectable":n(o=>o.multiple?"true":void 0,[e])}},0,"YS_1"),[u]:{floating:n(o=>o.floating,[t]),flip:n(o=>o.flip,[t]),hover:n(o=>o.hover,[t]),gutter:n(o=>o.gutter,[t]),"bind:anchor":n((o,m)=>m["bind:anchor"]??o.triggerRef,[e,t]),"bind:panel":u,manual:u,id:n(o=>o.localId,[e])}},1,"YS_2")},J=Object.freeze(Object.defineProperty({__proto__:null,s_Sqje0QpI4is:M},Symbol.toStringTag,{value:"Module"})),y=(t,e,i)=>e<t.left||e>t.right||i<t.top||i>t.bottom,k=Object.freeze(Object.defineProperty({__proto__:null,_hW:a,s_xuvmGl0vw3E:y},Symbol.toStringTag,{value:"Module"})),H=({track:t,cleanup:e})=>{const[i,s]=c();t(()=>i.isListboxOpenSig.value),i.isListboxOpenSig.value&&window.addEventListener("pointerdown",s),e(()=>{window.removeEventListener("pointerdown",s)})},T=Object.freeze(Object.defineProperty({__proto__:null,_hW:a,s_0HYQ4ZKK0YM:H},Symbol.toStringTag,{value:"Module"})),Y=()=>{const[t]=c();t.isKeyboardFocusSig.value=!1,t.isMouseOverPopupSig.value=!0},K=Object.freeze(Object.defineProperty({__proto__:null,_hW:a,s_v4aoUOHwM5k:Y},Symbol.toStringTag,{value:"Module"})),q=()=>{const[t]=c();t.value=!1},C=Object.freeze(Object.defineProperty({__proto__:null,_hW:a,s_hlLZ8J000cY:q},Symbol.toStringTag,{value:"Module"})),D=async t=>{const[e,i]=c();if(!e.isListboxOpenSig.value||!e.popoverRef.value||!e.triggerRef.value)return;const s=e.popoverRef.value.getBoundingClientRect(),d=e.triggerRef.value.getBoundingClientRect(),{clientX:v,clientY:_}=t,g=await i(s,v,_),p=await i(d,v,_);g&&p&&(e.isListboxOpenSig.value=!1)},V=Object.freeze(Object.defineProperty({__proto__:null,_hW:a,s_9pePPKbKVfc:D},Symbol.toStringTag,{value:"Module"}));export{a as _hW,J as s,H as s_0HYQ4ZKK0YM,D as s_9pePPKbKVfc,j as s_C0wkbE2I1wY,M as s_Sqje0QpI4is,q as s_hlLZ8J000cY,Y as s_v4aoUOHwM5k,y as s_xuvmGl0vw3E};
