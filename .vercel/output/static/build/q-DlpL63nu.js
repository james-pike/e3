import{E as p,R as a,d as h,F as b,f as _,a as k,w as j,q as x,g as D,T,P as $,b as S,C as m,c as L,X as A,_hW as u}from"./q-Cf7NMI1Y.js";import{_ as s}from"./q-CCVerxHA.js";import{S as I,s as M}from"./q-D3yEi0Ex.js";import{u as H}from"./q-BrOW4Qnq.js";function w(){const t=p(I);return{getNextEnabledItemIndex$:a(()=>s(()=>import("./q-DmZ2ukoR.js").then(o=>o.a),[]),"s_9zaDdaRbnYs",[t]),getPrevEnabledItemIndex$:a(()=>s(()=>import("./q-DmZ2ukoR.js").then(o=>o.u),[]),"s_Bkdv0i3H8ic",[t]),selectionManager$:a(()=>s(()=>import("./q-DmZ2ukoR.js").then(o=>o.b),[]),"s_bdnhsBvq0uU",[t])}}function ce(){const t=p(I),e=h(""),i=h(void 0),n=h(void 0),{selectionManager$:o}=w(),l=b(a(()=>s(()=>import("./q-6boKARDE.js").then(d=>d.u),[]),"s_VwJQAp8ZIj0",[t]));return{typeahead$:a(()=>s(()=>import("./q-6boKARDE.js").then(d=>d.a),[]),"s_0oPiig31tmE",[t,l,i,e,n,o])}}const C=async t=>{const[e,i,n]=_();switch(n.value?.(t.key),e.isKeyboardFocusSig.value=!0,t.key){case"ArrowDown":e.isListboxOpenSig.value&&(e.highlightedIndexSig.value=await i.getNextEnabledItemIndex$(e.highlightedIndexSig.value),e.multiple&&t.shiftKey&&await i.selectionManager$(e.highlightedIndexSig.value,"toggle"));break;case"ArrowUp":e.isListboxOpenSig.value&&(e.highlightedIndexSig.value=await i.getPrevEnabledItemIndex$(e.highlightedIndexSig.value),e.multiple&&t.shiftKey&&await i.selectionManager$(e.highlightedIndexSig.value,"toggle"));break;case"Home":e.isListboxOpenSig.value&&(e.highlightedIndexSig.value=await i.getNextEnabledItemIndex$(-1));break;case"End":if(e.isListboxOpenSig.value){const o=await i.getPrevEnabledItemIndex$(e.itemsMapSig.value.size);e.highlightedIndexSig.value=o}break;case"Escape":e.triggerRef.value?.focus(),e.isListboxOpenSig.value=!1;break;case"Tab":e.isListboxOpenSig.value=!1;break;case"Enter":case" ":if(e.isListboxOpenSig.value){const o=e.multiple?"toggle":"add";await i.selectionManager$(e.highlightedIndexSig.value,o),e.multiple||e.triggerRef.value?.focus()}e.isListboxOpenSig.value=e.multiple?!0:!e.isListboxOpenSig.value;break;case"a":if(t.ctrlKey&&e.multiple)for(const[o,l]of e.itemsMapSig.value)l.disabled||await i.selectionManager$(o,"add");break}},z=Object.freeze(Object.defineProperty({__proto__:null,_hW:u,s_7Zcl0lmf0QU:C},Symbol.toStringTag,{value:"Module"})),V=()=>{const[t,e]=_(),i=e._index??null;return!e.disabled&&t.selectedIndexSetSig.value.has(i)},K=Object.freeze(Object.defineProperty({__proto__:null,s_CeMKM8iHCQw:V},Symbol.toStringTag,{value:"Module"})),q=()=>{const[t,e,i]=_();i.disabled||e.value!==null&&(t.highlightedIndexSig.value=e.value)},N=Object.freeze(Object.defineProperty({__proto__:null,_hW:u,s_DZz2N4M6hh8:q},Symbol.toStringTag,{value:"Module"})),W=async t=>{const[e,i,n]=_(),[o]=t;if(i.value&&!o.isIntersecting){const l=e.popoverRef.value?.getBoundingClientRect(),c=n.value?.getBoundingClientRect();if(!l||!c||!e.isKeyboardFocusSig.value)return;const d=c.top-l.top-l.height/2+c.height/2;e.popoverRef.value?.scrollBy({top:document.hasFocus()?d:void 0,...e.scrollOptions})}},Q=Object.freeze(Object.defineProperty({__proto__:null,_hW:u,s_ogNpSV0DREA:W},Symbol.toStringTag,{value:"Module"})),U=t=>{const[e]=_();e.value=t.detail},F=Object.freeze(Object.defineProperty({__proto__:null,_hW:u,s_Lw8jihYAE1E:U},Symbol.toStringTag,{value:"Module"})),B=t=>{const e=k(t,["_index","disabled"]),i=p(I),n=H(t.ref),o=h(null),l=`${i.localId}-${t._index}`,c=h(),d=h(),f=w();j("typeaheadFn",a(()=>s(()=>Promise.resolve().then(()=>F),void 0),"s_Lw8jihYAE1E",[c]));const g=b(a(()=>s(()=>Promise.resolve().then(()=>K),void 0),"s_CeMKM8iHCQw",[i,t])),v=b(a(()=>s(()=>Promise.resolve().then(()=>ee),void 0),"s_daSGJwDJ1r0",[i,n,t]));x(a(()=>s(()=>Promise.resolve().then(()=>G),void 0),"s_Rg7OwuHeKqY",[o,t])),x(a(()=>s(()=>Promise.resolve().then(()=>Y),void 0),"s_LSzR04j3gaE",[a(()=>s(()=>Promise.resolve().then(()=>Q),void 0),"s_ogNpSV0DREA",[i,v,n]),i,d,n,o,t]));const E=a(()=>s(()=>Promise.resolve().then(()=>ie),void 0),"s_giPWBCoNg8c",[i,o,t,f]),y=a(()=>s(()=>Promise.resolve().then(()=>N),void 0),"s_DZz2N4M6hh8",[i,o,t]),O={isSelectedSig:g},P=D(r=>{["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Home","End","PageDown","PageUp","Enter"," "].includes(r.key)&&r.preventDefault()},'e=>{const keys=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Home","End","PageDown","PageUp","Enter"," "];if(keys.includes(e.key)){e.preventDefault();}}'),R=a(()=>s(()=>Promise.resolve().then(()=>z),void 0),"s_7Zcl0lmf0QU",[i,f,c]);return T(M,O),$("div",{...e,id:l,ref:n,tabIndex:-1,get"aria-selected"(){return g.value},get"aria-disabled"(){return t.disabled===!0?"true":"false"},get"data-selected"(){return g.value?"":void 0},get"data-highlighted"(){return v.value?"":void 0},get"data-disabled"(){return t.disabled?"":void 0},"data-item":!0,role:"option",children:L(A,null,3,"4R_0"),onClick$:[E,t.onClick$],onKeyDown$:[P,R,t.onKeyDown$],onPointerOver$:[y,t.onPointerOver$]},{tabIndex:S,"aria-selected":m(r=>r.value,[g]),"aria-disabled":m(r=>r.disabled===!0?"true":"false",[t]),"data-selected":m(r=>r.value?"":void 0,[g]),"data-highlighted":m(r=>r.value?"":void 0,[v]),"data-disabled":m(r=>r.disabled?"":void 0,[t]),"data-item":S,role:S},0,"4R_1")},de=Object.freeze(Object.defineProperty({__proto__:null,s_Qzz2i50w0p4:B},Symbol.toStringTag,{value:"Module"})),J=function({track:e,cleanup:i}){const[n,o,l,c,d,f]=_();e(()=>o.highlightedIndexSig.value),d.value===o.highlightedIndexSig.value&&(o.highlightedItemRef=c),!(!o.popoverRef.value||!(o.popoverRef.value.scrollHeight>o.popoverRef.value.clientHeight))&&(l.value!==void 0&&clearTimeout(l.value),l.value=setTimeout(()=>{if(f._index!==o.highlightedIndexSig.value)return;const v=new IntersectionObserver(n,{root:o.popoverRef.value,threshold:0});i(()=>v?.disconnect()),c.value&&v.observe(c.value)},100),i(()=>{l.value!==void 0&&clearTimeout(l.value)}))},Y=Object.freeze(Object.defineProperty({__proto__:null,_hW:u,s_LSzR04j3gaE:J},Symbol.toStringTag,{value:"Module"})),Z=async function(){const[e,i]=_();if(i._index===void 0)throw Error("Qwik UI: Select component item cannot find its proper index.");e.value=i._index},G=Object.freeze(Object.defineProperty({__proto__:null,_hW:u,s_Rg7OwuHeKqY:Z},Symbol.toStringTag,{value:"Module"})),X=()=>{const[t,e,i]=_();if(!i.disabled)return t.highlightedIndexSig.value===i._index?(e.value?.focus({preventScroll:!0}),!0):!1},ee=Object.freeze(Object.defineProperty({__proto__:null,s_daSGJwDJ1r0:X},Symbol.toStringTag,{value:"Module"})),te=async()=>{const[t,e,i,n]=_();i.disabled||e.value===null||(t.multiple?(await n.selectionManager$(e.value,"toggle"),t.triggerRef.value?.focus()):(await n.selectionManager$(e.value,"add"),t.isListboxOpenSig.value=!1))},ie=Object.freeze(Object.defineProperty({__proto__:null,_hW:u,s_giPWBCoNg8c:te},Symbol.toStringTag,{value:"Module"}));export{u as _hW,ce as a,de as s,C as s_7Zcl0lmf0QU,V as s_CeMKM8iHCQw,q as s_DZz2N4M6hh8,J as s_LSzR04j3gaE,U as s_Lw8jihYAE1E,B as s_Qzz2i50w0p4,Z as s_Rg7OwuHeKqY,X as s_daSGJwDJ1r0,te as s_giPWBCoNg8c,W as s_ogNpSV0DREA,w as u};
